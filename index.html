<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="./widgetSettings.css">
  <link rel="stylesheet" href="https://unpkg.com/element-ui/lib/theme-chalk/index.css">
  <title>Document</title>
</head>
<body>
  <custom-element-widgets-settings
        api-key="431d5026-6bcb-4cdb-849d-0044ede622be"
        auth-key="200215|WIeroujrtBoKQbyrZHbsoTdau8TAkdmjVkeBHveu"
        hide-code="true"
        @onAuthError="callbackAuthError"
        @onWidgetLoad="callbackWidgetLoad"
    ></custom-element-widgets-settings>
    
  <script src="./bitrix.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', function() {
    // Получение элемента по его тегу
    const widgetElement = document.querySelector('custom-element-widgets-settings');

    // Добавление слушателя события
    widgetElement.addEventListener('onAuthError', callbackAuthError);
    widgetElement.addEventListener('onWidgetLoad', callbackWidgetLoad);
  });
  // Определение функции callback
  function callbackAuthError(event) {
    // ваш код обработки ошибки аутентификации здесь
    console.error('Auth Error:', event.detail);
    console.log(event);
  }

  function callbackWidgetLoad(event) {
    console.log('callbackWidgetLoad', event);
  }
</script>
</body>
</html>
